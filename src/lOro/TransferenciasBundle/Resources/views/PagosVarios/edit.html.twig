{% extends '::gen_base.html.twig' %}

{% block title %}Pagos Varios{% endblock %}

{% block body -%}
<div class="title_left">
  <h1>Pagos Varios <small>Editar</small></h1>
</div>
<div class="clearfix"></div>

<div class="row">

  <div class="col-md-10 col-md-offset-2 col-xs-offset-1 col-xs-11 col-sm-10 col-sm-offset-2">
      {{ form_start(edit_form) }}
      
    <div class="form-group">
      <div class="col-xs-9 col-md-9">  
        {{ form_label(edit_form.fePago) }}
        {{ form_widget(edit_form.fePago) }}
        {{ form_errors(edit_form.fePago) }}
      </div>
    </div>
    
    <div class="form-group">
      <div class="col-xs-9 col-md-9">
        {{ form_label(edit_form.tipoPagoVario) }}
        {{ form_widget(edit_form.tipoPagoVario) }}
        {{ form_errors(edit_form.tipoPagoVario) }}
        </div>
      </div>

    <div class="form-group">
      <div class="col-xs-9 col-md-9">
        {{ form_label(edit_form.tipoTransaccion) }}
        {{ form_widget(edit_form.tipoTransaccion) }}
        {{ form_errors(edit_form.tipoTransaccion) }}
        </div>
      </div>


    <div class="form-group">
      <div class="col-xs-9 col-md-9">
        {{ form_label(edit_form.tipoPago) }}
        {{ form_widget(edit_form.tipoPago) }}
        {{ form_errors(edit_form.tipoPago) }}    
        </div>
      </div>

        <div class="campos-ocultos">
    <div class="form-group">
      <div class="col-xs-9 col-md-9"> 
          {{ form_label(edit_form.nroReferencia) }}
          {{ form_widget(edit_form.nroReferencia) }}
          {{ form_errors(edit_form.nroReferencia) }}
          </div>
        </div>
        </div> 


    <div class="form-group">
      <div class="col-xs-9 col-md-9">
            {{ form_label(edit_form.empresaCasa) }}
            {{ form_widget(edit_form.empresaCasa) }}
            {{ form_errors(edit_form.empresaCasa) }}
          </div>
        </div>

    <div class="form-group">
      <div class="col-xs-9 col-md-9">
            {{ form_label(edit_form.montoPago) }}
            {{ form_widget(edit_form.montoPago) }}
            {{ form_errors(edit_form.montoPago) }}
          </div>
        </div>

    <div class="form-group">
      <div class="col-xs-9 col-md-9">
            {{ form_label(edit_form.descripcionPago) }}
            {{ form_widget(edit_form.descripcionPago) }}
            {{ form_errors(edit_form.descripcionPago) }}
          </div>
        </div>

      </div>

<div class="clearfix"></div>
  <br />             
  <div class="form-group">
    <div class="col-sm-offset-7 col-sm-3 col-xs-offset-5 col-xs-3 col-md-offset-9 col-md-3">
      {{ form_widget(edit_form.submit) }}
    </div>
  </div>

      {{ form_end(edit_form)}}
  </div>
<div class="clearfix"></div>
{% endblock %}
{% block javascripts %}
    <script>
        $(function(){
            
  
  var campoTipoTransaccion = $('#loro_transferenciasbundle_pagosvarios_tipoTransaccion');
  
    if(campoTipoTransaccion.val() == 1 || campoTipoTransaccion.val() == 2){
      $('.campos-ocultos').show(); 
    } else {
      $('#loro_transferenciasbundle_pagosvarios_nroReferencia').val('');
      $('.campos-ocultos').hide();
    } 
    
  campoTipoTransaccion.change(function(){
    if(campoTipoTransaccion.val() == 1 || campoTipoTransaccion.val() == 2){
      $('.campos-ocultos').show(); 
    } else {
      $('#loro_transferenciasbundle_pagosvarios_nroReferencia').val('');
      $('.campos-ocultos').hide();
    }  
  });
  
   var arregloOpcionesDP = {changeMonth: false,
                            changeYear: false,
                            buttonImageOnly: false,
                            dateFormat: 'dd-mm-yy' };
   $( "#loro_transferenciasbundle_pagosvarios_fePago" ).datepicker(arregloOpcionesDP,$.datepicker.regional[ "es" ]);

   var montoPagado = $('#loro_transferenciasbundle_pagosvarios_montoPago');
   montoPagado.val($.number(montoPagado.val(),2,',','.'));
   montoPagado.number(true,2,',','.');
  
   $("#form-pagos-varios").submit(function(e) {

                 var montoPagado = $('#loro_transferenciasbundle_pagosvarios_montoPago');
                 var nuevoValorMontoPagado = $.number(montoPagado.val(), 2,'.','' );
                 montoPagado.number(true,2,'.','');
                 montoPagado.val(nuevoValorMontoPagado);
            });          
        });
    </script>
 

{% endblock %}
